## ProjectLogistics

Thisisan **individual** project.Theprojectisdividedintotwophases,Phase 1 andPhase2.Each
phasecarriesequalweightagei.e. **17.5%** ofthetotaloverallgrades.

_Theprojectalsohasa_ **_reportsubmission_** _.YouwillbeallowedtousethisinyourMCSproject
portfolio.MoredetailsforthisarepresentintheReportSubmissionsection._

## ProblemStatement

Youwillbecreatingahighlyscalableandhighlyavailabledataprocessingpipelinethattakesa
document stream as its input and performs various processing operations on it before
streamingitintoadistributedneo4jsetuptoallowfornearreal-timeprocessingandanalytics.

Thisdocument hasbeen designedto explorethe pipeline oneconnection atatime.Itis
importanttounderstandthemotivationofeverycomponentasaunitandin tandem.The
projectdocumentwillguideyoualongthewaywhilealsoencouragingself-exploration.

## Step0:TheNetworkWhisperer(0pts)

ThemostimportantpartofthisprojectistounderstandhowdataisgoingtoflowfromPointA
toPointB.Thissectionwillanswerthatquestion,andwhiteeverythingmaynotbeobviouson


theveryfirstglance,aseverysteppasses,informationgivenoverherewillstarttogainvalue
andhelpyoualongtheway.

## Step1:OrderintheChaos(20pts)

Inthisstep,youwillsetuptheorchestratorandKafkaforyourpipeline.Theorchestratorisa
toolthathelpsyoumanagethedifferentcomponentsofyourpipeline,suchasdataingestion,
processing, and storage.Youwilluse **minikube** asyourorchestrator,whichis alightweight
Kubernetesimplementationthatrunslocallyonyourmachine.Kafkaisadistributedstreaming
platformthathelpsyoucollectandprocesstheincomingdatastreams.YouwilluseKafkato
ingestdatafromthedocumentstreamanddistributeittoothercomponentsofyourpipeline.
Thefollowingdiagramshowswhatallshouldbesetupbytheendofthisstep.

**Hints:**
● Themostimportantpartofanyprojectistounderstandtheenvironmentandsetitup.
Thatswhatyoushouldaimtodofirst,installminikube,understandwhatitis.Onceyou
starttogetfamiliarwithit,youneedtounderstandwhatdeploymentandservicesin
kubernetesare.Thegradingenvironmentalreadyhasminikubeandhelminstalledand


```
presentinthePATHforyourconvenience.Wehavealsoprovidedafile(grading-info.md)
thatshowsthecommandsusedbythegradingenvironment.
● After you have Minikube installed and ready to go,we move to creating a Kafka
deployment insideof Minikube.The first stepKafka is to setupZookeeperthatis
essentialfortheoperationforKafka.
● Wehaveprovidedyouwith 2 YAML files, zookeper-setup.yamlandkafka-setup.yaml,
both these files are partially complete. The zookeper-setup.yaml containing
informationtocreateadeploymentandthe kafka-setup.yamlcontaininginformation
to createaservice. You needto completeboth of thesefiles, adding deployment
informationtooneandaddingserviceinformationtotheother.
● You must usethefollowingconfigurationsatleast:
○ Usetheconfluentinc/cp-kafka:7.3.3image
○ KAFKA_BROKER_IDshouldbe" 1 "
○ KAFKA_ZOOKEEPER_CONNECTshouldbe"zookeeper-service:2181"
○ KAFKA_LISTENER_SECURITY_PROTOCOL_MAPshouldbe
PLAINTEXT:PLAINTEXT,PLAINTEXT_INTERNAL:PLAINTEXT
○ KAFKA_ADVERTISED_LISTENERSshouldbe
PLAINTEXT://localhost:9092,PLAINTEXT_INTERNAL://kafka-service:
○ KAFKA_OFFSETS_TOPIC_REPLICATION_FACTORshouldbe" 1 "
○ KAFKA_AUTO_CREATE_TOPICS_ENABLEshouldbe" true "
```
**_Note_** _:Bydefaultminikubestartswithlimitedresources,youmayneedtoincreasethemwhen
startingminikube._

## Step2:Chartingthewayforward(20pts)

Inthisstep,wewillbeimplementingneo4jinoursetup.Youalreadyhaveafirmgrasponneo4j
andtheinsandoutofitscontainer.However,forthisproject,sincethedatawillbestreamed,
wecansimplyutilizeneo4jsetupsthatareavailableforKubernetes.

We already havehelm and the neo4jrepositorypresentinhelm.Referthe grader.mdfile
providedtoseehowyourcommandwillbetestedinthegradingenvironment.

Wewillbeusingneo4jinstandalonemode,however,theclustermodecanalsobesetupin
almostthesameway(withaenterpriselicence).Thefollowingdiagramshowswhatallshould
besetupbytheendofthisstep.


**Hints:**
● Thelaststepshowedpartoftheenvironmentsetup,thisstepcontinueswiththesame
whileintroducinganotherintegralpartofit,neo4j.Makesuretogothroughtheguideto
settingupstandaloneneo4jinstancesinkubernetes,itexplainsalltheimportantsteps.
● Makesuretosetupthepasswordtobeproject2phase2inyouryamlfile(andalsoto
havethegdslibraryinstalled).Thedocumentationforinstallationwillhelpyouwiththis.
Thisyamlfileshouldbenamedasneo4j-values.yamlandsubmittedtocanvas.
● Wehaveadditionallyalsoprovidedaneo4j-service.yamlfilethatyoucanmodify(if
needed)and usetostartaservice.Thisservicewillallowneo4jinsidekubernetesto
haveportsaccessiblethroughneo4j-service:7474thatallowsittocommunicatewithin
the network. Note that your network is still only accessible inside the minikube
environment,step 4 willshowhowtoaccessyourneo4jbrowseroutsidetheminikube
environment.

## Step3:Neo4j->[<3]->Kafka(20pts)

In this step,Kafka and Neo4jwillbeconnected.Therearetoolsalreadyavailableforthis,
specificallythekafkaconnectextensionthatwewillutilize.

Wehavealreadydonealotofthesetuprequiredforthisstepandyoumajorlyneedtowritethe
yamlfilethatlauncesthiscustomimage.Thiscustomimageconvertsthedatareceivedfromthe
kafkatopicintodatainterpretablebyneo4j.Thefollowingdiagramshowswhatallshouldbeset
upbytheendofthisstep.


**Hints:**
● YoucanreferthedocumentationforKafkaConnectneo4jwhichiswhatwewillbeusing
for thisstage oftheproject.Acustomimagethathastheneo4jconnectoralready
installedisalsomadeavailabletoyouatveedata/kafka-neo4j-connect.
● WehavealsouploadedtheDockerfileforthissteptothedropboxfolderincaseyou
needtoreferitorarecuriousonwhatgoesoninsidethecontainer.
● Makesuretowritethestepsyouuseforthisstepinabashfileandsubmititaswell!The
nameofthefileshouldbekafka-neo4j-connection.yaml.

## Step4:PATPB(30pts)

Bythisstep,youshouldhaveeverythingputtogether.Youcantrytorunthedata_producer.py
file provided to youat thispoint. Thedatashouldhaveahigh-levelflowinthe following
manner: _producer=> enterkubernetes environment =>(kbe) kafka=> (kbe) neo4j=> exit
kubernetes environment=> dataanalytics_. Thesame **two** algorithmsfromphase 1 ofthe


projectwillbeutilizedagain: **PageRank,** and **Breadth-FirstSearch(BFS).** Youneedtoimplement
themintheinterface.pyfileprovided.

Donotethatyouneedtoexposetheportsoutsideyourminikubeenvironmentinthisstep.A
templateofhowyoudothisispresentinthegrader.mdfile.
